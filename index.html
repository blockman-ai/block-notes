<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BitcoinJS v5.2.0 Test</title>
</head>
<body style="background:#111; color:#0f0; font-family:monospace; padding:2rem">
  <h2>BitcoinJS v5.2.0 Test Page</h2>
  <button onclick="testBitcoinJS()">üß™ Test BitcoinJS</button>
  <pre id="output">Waiting...</pre>

  <!-- Load BitcoinJS v5.2.0 from unpkg -->
  <script src="https://unpkg.com/bitcoinjs-lib@5.2.0/dist/bitcoinjs-lib.min.js"></script>

  <script>
    async function testBitcoinJS() {
      const out = document.getElementById("output");
      out.textContent = "‚è≥ Checking bitcoinjs-lib...";

      try {
        if (typeof bitcoin === "undefined") {
          throw new Error("‚ùå window.bitcoin is undefined");
        }
        if (!bitcoin.Psbt) {
          throw new Error("‚ùå bitcoin.Psbt is missing");
        }
        if (!bitcoin.networks?.bitcoin) {
          throw new Error("‚ùå bitcoin.networks.bitcoin is missing");
        }

        const psbt = new bitcoin.Psbt({ network: bitcoin.networks.bitcoin });
        out.textContent = "‚úÖ BitcoinJS v5.2.0 Loaded.\n\n" + psbt.toString();
      } catch (err) {
        out.style.color = "#f33";
        out.textContent = "‚ùå Error: " + err.message;
        console.error(err);
      }
    }
  </script>
</body>
</html>
